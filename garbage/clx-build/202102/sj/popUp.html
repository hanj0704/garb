<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta http-equiv="Expires" content="-1">
		<meta http-equiv="Pragma" content="no-cache">
		<meta http-equiv="Cache-Control" content="No-Cache">
		<meta name="viewport" content="width=device-width, user-scalable=no">
		<link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
		<link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
		<link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
		<link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
		<link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
		<link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
		<link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
		<link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
		<link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
		<link rel="icon" type="image/png" sizes="192x192"  href="/android-icon-192x192.png">
		<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
		<link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png">
		<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
		<meta name="msapplication-TileColor" content="#ffffff">
		<meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
		<meta name="theme-color" content="#ffffff">
		<base href="../">

		<!-- Runtime CSS -->
		<link rel="stylesheet" type="text/css" href="/resource/css/cleopatra.css">
<!-- 		<link rel="stylesheet" type="text/css" href="/__eb_preview__/preview.css"> -->
		
		<!-- Project CSS -->
		<link rel="stylesheet" type="text/css" href="../theme/cleopatra-theme.css?p=0.40861594280352587">
		
		<!-- eXbuilder6 runtime -->
		<script type="text/javascript" defer src="/resource/cleopatra.js"></script>
		
		<!-- Project assets -->
		<script type="text/javascript" defer src="../cpr-lib/language.js?p=0.50484331575171"></script>
		<script type="text/javascript" defer src="../cpr-lib/user-modules.js?p=0.3826134078238054"></script>
		<script type="text/javascript" defer src="../cpr-lib/udc.js?p=0.3030066674972788"></script>
		
		<!-- Main CLX Script -->
		<script type="text/javascript" defer src="sj/popUpDialog.clx.js"></script>
		<style>
			/* for HTML5 */
			html, body {
				margin: 0px;
				padding: 0px;
				height: 100%;				
			}
			body{
				inset: 0px 0px 0px;
				box-sizing: content-box;
				min-height: 100%;
			}
		</style>
	</head>
	<body onload = "loadMainPage()">
		<script type="text/javascript">
		
// 			cpr.core.App.addHook({
// 				// App.load 트리거.
// 				onLoad: function(appId, loader) {
// 					console.log(appId);
// 					// I4311-emb 앱이 로드 될 때 I4331-dep.js가 함께 로드 되도록 함.
// 					if (appId == "202008/tester") {
// 						loader.addScript("data/FXFIG2.json");
// 					}
// 				},
				
// 				// 앱 델리게이트 onPrepare 트리거.
// 				onPrepare: function(app, loader) {
// 					if (app.app.id == "_MILESTONE_ISSUES_/2020/R-13/I4331-content/I4331-emb") {
						
// 					}
// 				},
				
// 				// 앱 델리게이트 onCreate 트리거.
// 				onCreate: function(app, exports) {
// 					// 4311이 앱 아이디에 포함된 경우, 앱 컨테이너의 보더 색상을 변경 함.
// 					if (app.app.id.indexOf("pop") !== -1) {
// 						console.log("ㅋㅋ 걸렸죠?");
						
// 						var embeddedApp_1 = ea;
						
// 						container.addChild(embeddedApp_1, {
// 							"top": "71px",
// 							"right": "0px",
// 							"bottom": "1px",
// 							"left": "0px"
// 						});
// 					}
// 				}
// 			});
			 var str = location.href;
	         var index = str.indexOf("?") + 1;
	         var strSub = str.substring(index);
	         var appId = strSub.split("=")[1];
	         function loadMainPage(){
// 	    						cpr.core.Platform.INSTANCE.register(_ea);
// 	        		cpr.core.App.addHook({
// 	    				// App.load 트리거.
// 	    				onLoad: function(appId, loader) {
// 	    				},
	    				
// 	    				// 앱 델리게이트 onPrepare 트리거.
// 	    				onPrepare: function(app, loader) {
// 	    				},
	    				
// 	    				// 앱 델리게이트 onCreate 트리거.
// 	    				onCreate: function(app, exports) {
// 	    					// 4311이 앱 아이디에 포함된 경우, 앱 컨테이너의 보더 색상을 변경 함.
// 	    					if (app.app.id.indexOf("pop") !== -1) {
// 	    						console.log("ㅋㅋ 걸렸죠?");
// 	    						var container = app.getContainer();
// 	    						container.style.css({
// 	    							"width" : "100%",
// 	    							"top" : "0px",
// 	    							"height" : "100%",
// 	    							"left" : "0px"
// 	    						});
// // 	    						var embeddedApp_2 = _ea;
// // 	    						console.log(embeddedApp_2.getEmbeddedAppInstance());
// // 	    						container.addChild(embeddedApp_2, {
// // 	    							"top": "71px",
// // 	    							"left": "10px",
// // 	    							"width": "300px",
// // 	    							"height": "300px"
// // 	    						});
// 	    						var embeddedApp_1 = new cpr.controls.EmbeddedApp("ea123");
// // 			cpr.core.App.load("202102/sj/emb1", function(loadedApp) {
// // 				if(app){
// // 					embeddedApp_1.app = loadedApp;
// // 				}
// // 			});
// 			container.addChild(embeddedApp_1, {
// 				"top": "71px",
// 				"right": "0px",
// 				"bottom": "1px",
// 				"left": "0px"
// 			});
// // 	    						var outputs = new cpr.controls.Output();
// // 	    						outputs.value = "zz 어디야";
// // 	    						container.addChild(outputs,{
// // 	    							"right": "10px",
// // 	    							"top": "0px",
// // 	    							"width" : "100px",
// // 	    							"height" :"20px"
// // 	    						})
// 	    					}
	    					
// 	    				}
// 	    			});
		           var app = cpr.core.Platform.INSTANCE.lookup("202102/sj/popUpDialog");
		           app.createNewInstance().run();		   
		      	   var appIns = app._instances[0];	
		      	   console.log("-----------");      	
		      	   //console.log(appIns);
		      	   //console.log(_ea);
		      	   console.log("-----------");
		      	   //app._instances[1] = vcApp;
		      	  
// 		           appIns.setAppProperty("appId", appId );
		           //appIns.setAppProperty("data" , vcApp.getEmbeddedAppInstance().getAllDataControls() );
// 		           appIns.setAppProperty("_app" , _ea );
		         /*  console.log(vcApp);
		           _app = vcApp;	           
		           _app.createNewInstance().run(); */
	        };

	        window.addEventListener("message", function(e){
					

		        });

		       	
		
		</script>
	</body>
</html>
