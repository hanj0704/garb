/*
 * App URI: 202110/scrollTo
 * Source Location: 202110/scrollTo.clx
 *
 * This file was generated by eXbuilder6 compiler, Don't edit manually.
 */
(function(){
	var app = new cpr.core.App("202110/scrollTo", {
		onPrepare: function(loader){
		},
		onCreate: function(/* cpr.core.AppInstance */ app, exports){
			var linker = {};
			// Start - User Script
			/************************************************
			 * scrollTo.js
			 * Created at 2021. 10. 12. 오후 2:53:19.
			 *
			 * @author HANS
			 ************************************************/
			
			//const body = document.body;
			//const main = document.getElementById('main');
			//
			//let sx = 0, // For scroll positions
			//    sy = 0;
			//let dx = sx, // For container positions
			//    dy = sy;
			//
			//
			//body.style.height = main.clientHeight + 'px';
			//
			//
			//main.style.position = 'fixed';
			//main.style.top = 0;
			//main.style.left = 0;
			//
			//// Bind a scroll function
			//window.addEventListener('scroll', easeScroll);
			//
			//
			//function easeScroll() {
			//  
			//  sx = window.pageXOffset;
			//  sy = window.pageYOffset;
			//}
			//
			//
			//window.requestAnimationFrame(render);
			//
			//function render(){
			//  //We calculate our container position by linear interpolation method
			//  dx = li(dx,sx,0.07);
			//  dy = li(dy,sy,0.07);
			//  
			//  dx = Math.floor(dx * 100) / 100;
			//  dy = Math.floor(dy * 100) / 100;
			//  
			//  
			//  main.style.transform = `translate3d(-${dx}px, -${dy}px, 0px)`;
			// 
			//  
			//  
			//  window.requestAnimationFrame(render);
			//}
			//
			function li(a, b, n) {
			  return (1 - n) * a + n * b;
			}
			
			/*
			 * 루트 컨테이너에서 init 이벤트 발생 시 호출.
			 * 앱이 최초 구성될 때 발생하는 이벤트 입니다.
			 */
			function onBodyInit(/* cpr.events.CEvent */ e){
				
				app.getContainer().addEventListener('scroll', function(ev){
					ev.preventDefault();
				},{passive:false});
			}
			
			var dy = 0;
			var sy = 0;
			/*
			 * 루트 컨테이너에서 scroll 이벤트 발생 시 호출.
			 * 그룹 컨텐츠가 스크롤될 때 발생하는 이벤트.
			 */
			function onBodyScroll(/* cpr.events.CUIEvent */ e){
				
			//	sy = app.getContainer().getContentPaneRect().top;
			//	dy = li(dy,sy,0.07);
			//	dy = Math.floor(dy * 100) / 100;
			//	app.getContainer().style.transform = 'translage3d(0,'+dy+'px, 0px)'
			}
			
			
			/*
			 * "Button" 버튼(btn1)에서 click 이벤트 발생 시 호출.
			 * 사용자가 컨트롤을 클릭할 때 발생하는 이벤트.
			 */
			function onBtn1Click(/* cpr.events.CMouseEvent */ e){
				/** 
				 * @type cpr.controls.Button
				 */
				var btn1 = e.control;
				
			//	app.lookup("grp1").style.transform = "translate3d(0px,100px,0px)";
			};
			// End - User Script
			
			// Header
			
			app.supportMedia("all and (min-width: 1024px)", "default");
			app.supportMedia("all and (min-width: 500px) and (max-width: 1023px)", "tablet");
			app.supportMedia("all and (max-width: 499px)", "mobile");
			
			// Configure root container
			var container = app.getContainer();
			container.style.css({
				"width" : "100%",
				"height" : "100%"
			});
			
			// Layout
			var xYLayout_1 = new cpr.controls.layouts.XYLayout();
			container.setLayout(xYLayout_1);
			
			// UI Configuration
			var group_1 = new cpr.controls.Container("grp1");
			// Layout
			var verticalLayout_1 = new cpr.controls.layouts.VerticalLayout();
			verticalLayout_1.animationDuration = 0.2;
			group_1.setLayout(verticalLayout_1);
			(function(container){
				var output_1 = new cpr.controls.Output("opt1");
				output_1.value = "Output";
				output_1.style.css({
					"background-color" : "#0045cb"
				});
				container.addChild(output_1, {
					"width": "100px",
					"height": "509px"
				});
				var output_2 = new cpr.controls.Output("opt2");
				output_2.value = "Output";
				output_2.style.css({
					"background-color" : "#ff8e8e"
				});
				container.addChild(output_2, {
					"width": "100px",
					"height": "509px"
				});
				var output_3 = new cpr.controls.Output("opt3");
				output_3.value = "Output";
				output_3.style.css({
					"background-color" : "#d1ffaa"
				});
				container.addChild(output_3, {
					"width": "100px",
					"height": "509px"
				});
			})(group_1);
			container.addChild(group_1, {
				"top": "0px",
				"left": "0px",
				"width": "352px",
				"height": "1237px"
			});
			
			var button_1 = new cpr.controls.Button("btn1");
			button_1.value = "Button";
			if(typeof onBtn1Click == "function") {
				button_1.addEventListener("click", onBtn1Click);
			}
			container.addChild(button_1, {
				"top": "56px",
				"left": "430px",
				"width": "93px",
				"height": "24px"
			});
			if(typeof onBodyInit == "function"){
				app.addEventListener("init", onBodyInit);
			}
			if(typeof onBodyScroll == "function"){
				app.getContainer().addEventListener("scroll", onBodyScroll);
			}
		}
	});
	app.title = "scrollTo";
	cpr.core.Platform.INSTANCE.register(app);
})();
